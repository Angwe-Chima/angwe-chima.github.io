const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/BlogFormModal-B54VheTo.js","assets/index-Nnme1ILz.js","assets/index-C0-5mgvE.css","assets/Input-DaiDae5B.js","assets/Input-BTpSyTeg.css","assets/blogService-BXpqFAI3.js","assets/uploadService-CZVGdzxx.js","assets/Textarea-tXh7MUqa.js","assets/Textarea-udscM-iO.css","assets/Button-DcKssBXq.js","assets/Button-Bc_3GXGQ.css","assets/constants-DAdbbRzX.js","assets/index-B5J0J5mJ.js","assets/BlogFormModal-BfW6BMe0.css","assets/BlogPostsTable-BzRxiAe-.js","assets/formatDate-ClDaI8Qs.js","assets/EmptyBlogState-jaZV4tcr.js"])))=>i.map(i=>d[i]);
import{r as s,j as e,h as _,H as f,_ as r}from"./index-Nnme1ILz.js";import{u as E,E as y}from"./ErrorMessage-ssr70tUi.js";import{d as P,g as b}from"./blogService-BXpqFAI3.js";import{B as v}from"./Button-DcKssBXq.js";const B=s.lazy(()=>r(()=>import("./BlogFormModal-B54VheTo.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13]))),N=s.lazy(()=>r(()=>import("./BlogPostsTable-BzRxiAe-.js"),__vite__mapDeps([14,1,2,15]))),S=s.lazy(()=>r(()=>import("./EmptyBlogState-jaZV4tcr.js"),__vite__mapDeps([16,1,2,9,10]))),c=()=>e.jsx("div",{className:"table-loader",children:e.jsx("div",{className:"loader-skeleton",style:{height:"400px"}})}),A=()=>{const[u,t]=s.useState(!1),[m,a]=s.useState(null),{data:g,loading:h,error:n,refetch:o}=E(()=>b(1,1e3)),i=g?.posts||[],d=()=>{a(null),t(!0)},p=l=>{a(l),t(!0)},x=async l=>{if(window.confirm("Are you sure you want to delete this blog post?"))try{await P(l),o()}catch{alert("Failed to delete blog post")}},j=()=>{t(!1),a(null),o()};return h?e.jsx(_,{fullScreen:!0,size:"large"}):n?e.jsx(y,{message:n,onRetry:o}):e.jsxs("div",{className:"manage-blog-page",children:[e.jsxs("div",{className:"manage-header",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"manage-title",children:"Manage Blog Posts"}),e.jsx("p",{className:"manage-subtitle",children:"Create, edit, and delete your blog posts"})]}),e.jsxs(v,{variant:"primary",onClick:d,children:[e.jsx(f,{size:16,className:"mr-2"}),"New Post"]})]}),i.length>0?e.jsx(s.Suspense,{fallback:e.jsx(c,{}),children:e.jsx(N,{posts:i,onEdit:p,onDelete:x})}):e.jsx(s.Suspense,{fallback:e.jsx(c,{}),children:e.jsx(S,{onCreate:d})}),u&&e.jsx(s.Suspense,{fallback:null,children:e.jsx(B,{post:m,onClose:j})})]})};export{A as default};
